let a=null,e=0,t=!1;self.onmessage=l=>{const{type:s}=l.data;switch(s){case"START":t||(t=!0,i());break;case"STOP":t&&(t=!1,n(),e>0&&(self.postMessage({type:"TIME_UPDATE",time:e}),e=0));break;case"RESET":t=!1,n(),e=0;break}};function i(){a!==null&&clearInterval(a);let l=Date.now();a=self.setInterval(()=>{if(!t)return;e+=1;const s=Date.now();(s-l>=3e3||e>=5)&&(self.postMessage({type:"TIME_UPDATE",time:e}),l=s,e=0)},1e3)}function n(){a!==null&&(clearInterval(a),a=null)}
